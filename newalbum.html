<!DOCTYPE html>
<html lang="en">
<head>
<title>Add new album</title>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" href="css/bootstrap.min.css" />
<link rel="stylesheet" href="css/bootstrap-responsive.min.css" />
<link rel="stylesheet" href="css/uniform.css" />
<link rel="stylesheet" href="css/select2.css" />
<link rel="stylesheet" href="css/matrix-style.css" />
<link rel="stylesheet" href="css/matrix-media.css" />
<link rel="stylesheet" href="css/bootstrap-wysihtml5.css" />
<link href="font-awesome/css/font-awesome.css" rel="stylesheet" />
<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700,800' rel='stylesheet' type='text/css'>
</head>
<body>

<!--Header-part-->
<div id="header">
  <h1><a href="dashboard.html">Trang quản trị</a></h1>
</div>
<!--close-Header-part--> 

<!--top-Header-menu-->
<div id="user-nav" class="navbar navbar-inverse">
  <ul class="nav">
    <li  class="dropdown" id="profile-messages" ><a title="" href="#" data-toggle="dropdown" data-target="#profile-messages" class="dropdown-toggle"><i class="icon icon-user"></i>  <span class="text">Xin chào</span><b class="caret"></b></a>
      <ul class="dropdown-menu">
        <li><a href="#"><i class="icon-user"></i> Thông tin</a></li>
        <li class="divider"></li>
        <!--<li><a href="#"><i class="icon-check"></i> My Tasks</a></li>
        <li class="divider"></li>-->
        <li><a href="#" onclick="logout()"><i class="icon-key"></i> Thoát</a></li>
      </ul>
    </li>
    <li class="dropdown" id="menu-messages"><a href="#" data-toggle="dropdown" data-target="#menu-messages" class="dropdown-toggle"><i class="icon icon-envelope"></i> <span class="text">Tin nhắn</span> <span class="label label-important">5</span> <b class="caret"></b></a>
      <ul class="dropdown-menu">
        <li><a class="sAdd" title="" href="#"><i class="icon-plus"></i> Tin nhắn mới</a></li>
        <li class="divider"></li>
        <li><a class="sInbox" title="" href="#"><i class="icon-envelope"></i> Thư đến</a></li>
        <li class="divider"></li>
        <!--<li><a class="sOutbox" title="" href="#"><i class="icon-arrow-up"></i> outbox</a></li>
        <li class="divider"></li>-->
        <li><a class="sTrash" title="" href="#"><i class="icon-trash"></i> Đã xóa</a></li>
      </ul>
    </li>
    <li class=""><a title="" href="#"><i class="icon icon-cog"></i> <span class="text">Cài đặt</span></a></li>
    <li class=""><a title="" href="#"><i class="icon icon-share-alt"></i> <span class="text">Thoát</span></a></li>
  </ul>
</div>
<!--close-top-Header-menu-->
<!--start-top-serch-->
<div id="search">
  <input type="text" placeholder="Tìm kiếm..."/>
  <button type="submit" class="tip-bottom" title="Search"><i class="icon-search icon-white"></i></button>
</div>
<!--close-top-serch--> 

<!--sidebar-menu-->

<div id="sidebar"><a href="#" class="visible-phone"><i class="icon icon-home"></i> Trang quản trị</a>
  <ul>
    <li ><a href="index.html"><i class="icon icon-home"></i> <span>Trang quản trị</span></a> </li>
    <li class="submenu"> <a href="#"><i class="icon icon-signal"></i> <span>Song</span> </a>
      <ul>
        <li><a href="newsong.html">Add new song</a></li>
        <li><a href="viewsong.html">Song list </a></li>
        
        
      </ul>
    </li>
    
    <li class="submenu"> <a href="#"><i class="icon icon-signal"></i> <span>Artist</span> </a>
      <ul>
        <li><a href="newartist.html">Add new artist</a></li>
        <li><a href="viewartist.html">Artist list</a></li>
        
        
      </ul>
    </li>
    <li class="submenu"> <a href="#"><i class="icon icon-signal"></i> <span>Genre</span> </a>
      <ul>
        <li><a href="newgenre.html">Add new genre</a></li>
        <li><a href="viewgenre.html">Genre list</a></li>
        
        
      </ul>
    </li>
    <li class="submenu active"> <a href="#"><i class="icon icon-signal"></i> <span>Album</span> </a>
      <ul>
        <li class="active"><a href="newalbum.html">Add new album</a></li>
        <li><a href="viewalbum.html">Album list</a></li>
        
        
      </ul>
    </li>
    
  </ul>
</div>
<div id="content">
  <div id="content-header">
    <div id="breadcrumb"> <a href="index.html" title="Go to Home" class="tip-bottom"><i class="icon-home"></i> Trang chủ</a> <a href="#" class="current">Add New Album</a> </div>
    
  </div>
<div class="container-fluid">
  <hr>
  <div class="row-fluid">
    <div class="span12">
      <div class="widget-box">
        <div class="widget-title"> <span class="icon"> <i class="icon-align-justify"></i> </span>
          <h5>NEW ALBUM</h5>
        </div>
        <div class="widget-content nopadding">
          <div class="form-horizontal">
            <div class="control-group">
              <p class="control-label" style="font-size: 20px">Display Name :</p>
              <div class="controls">
                <input type="text" id = "DisplayName" class="span11" placeholder="Display Name" />
              </div>
            </div>
            <div class="control-group">
              <p class="control-label" style="font-size: 20px">Artist ID :</p>
              <div class="controls">
                <input type="text" id = "ArtistId" class="span11" placeholder="Artist ID" />
              </div>
            </div>
            <div class="control-group">
              <p class="control-label" style="font-size: 20px">Thumbnail :</p>
              <div class="controls">
                <input type="text" class="span11" id = "Thumbnail" name="Thumbnail" />
              </div>
            </div>
            <div class="control-group">
              <p class="control-label" style="font-size: 20px">Description :</p>
              <div class="widget-content">
        <div class="control-group">
          <div>
            <div class="controls">
              <textarea id = "Description" class="span11" rows="6" placeholder="Enter text ..."></textarea>
            </div>
          </div>
          <div class="form-actions">
              <button style="margin-left: 900px " class="btn btn-success" onclick="create()">Save</button>
            </div>
        </div>
      </div>
            </div>
            
            
          </div>
        </div>
      </div>
      
    </div>
    </div>
    </div>
    </div>


<!--Footer-part-->
<div class="row-fluid">
  <div id="footer" class="span12"> 2016 &copy; </a> </div>
</div>
<!--end-Footer-part--> 
<script src="js/jquery.min.js"></script> 
<script src="js/jquery.ui.custom.js"></script> 
<script src="js/bootstrap.min.js"></script> 
<script src="js/bootstrap-colorpicker.js"></script> 
<script src="js/bootstrap-datepicker.js"></script> 
<script src="js/jquery.toggle.buttons.js"></script> 
<script src="js/masked.js"></script> 
<script src="js/jquery.uniform.js"></script> 
<script src="js/select2.min.js"></script> 
<script src="js/matrix.js"></script> 
<script src="js/matrix.form_common.js"></script> 
<script src="js/wysihtml5-0.3.0.js"></script> 
<script src="js/jquery.peity.min.js"></script> 
<script src="js/bootstrap-wysihtml5.js"></script> 
<script src="js/myjs.js"></script>
<script>
	$('.textarea_editor').wysihtml5();
</script>
<script type="text/javascript">
if(localStorage.getItem("token") == null){
    window.location = 'login.html';
  }
function create()
{
  var isValid = true;
  var temp = ""
  if( document.getElementById("DisplayName").value == "")
  {
    temp += 'Display Name, ';
    isValid = false;
  }
  if( document.getElementById("ArtistId").value == "")
  {
    temp += 'Artist Id, ';
    isValid = false;
  }
  if( document.getElementById("Thumbnail").value == "")
  {
    temp += 'Thumbnail, ';
    isValid = false;
  }
  if( document.getElementById("Description").value == "")
  {
    temp += 'Description, ';
    isValid = false;
  }

  if (isValid){
    Save();
  } else {
    alert(temp + 'is not null');
  }
}
  function Save(){
     if (window.XMLHttpRequest)
                  {
                      // code for IE7+, Firefox, Chrome, Opera, Safari
                      xmlhttp=new XMLHttpRequest();
                  } else {
                      // code for IE6, IE5
                      xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
                  }

          xmlhttp.onreadystatechange=function() {
          if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
              alert('success');
              window.location = 'viewalbum.html';
          }
          else if (xmlhttp.readyState == 4 && xmlhttp.status != 200)
          {
            alert(xmlhttp.responseText);
          }
      }
      xmlhttp.open("POST", 'https://musicstore-app.herokuapp.com/api/v1/album', true);
      xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
      xmlhttp.setRequestHeader("Authorization", "Bearer " + localStorage.getItem("token"));
      xmlhttp.send("DisplayName=" + document.getElementById("DisplayName").value +
        "&ArtistId=" + document.getElementById("ArtistId").value +
        "&Thumbnail=" + document.getElementById("Thumbnail").value +
        "&Description=" + document.getElementById("Description").value
        );
  }
</script>
</body>
</html>
